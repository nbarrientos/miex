\section{Formato de los ficheros a tratar}

En la siguiente sección se explicarán todos los aspectos relevantes a los
ficheros de entrada que procesará MIEX.

Los ficheros de entrada con los que va a interactuar MIEX están todos en
formato XML, lo cual facilita el tratamiento y análisis del contenido.

\subsection{¿Qué es XML?}

XML\footnote{http://es.wikipedia.org/wiki/XML}, sigla en inglés de eXtensible
Markup Language («lenguaje de marcas extensible»), es un metalenguaje extensible
de etiquetas desarrollado por el World Wide Web Consortium (W3C). Es una
simplificación y adaptación del SGML y permite definir la gramática de lenguajes
específicos (de la misma manera que HTML es a su vez un lenguaje definido por
SGML). Por lo tanto XML no es realmente un lenguaje en particular, sino una
manera de definir lenguajes para diferentes necesidades.

\subsection{El lenguaje utilizado}\label{sec:schema}

El lenguaje que se define utilizando XML para representar las colecciones
satisface la siguiente plantilla (concepto más conocido por su nombre
en inglés, \textit{XML Schema}).

\begin{Verbatim}[label=default.xsd, frame=single,framesep=2pt,fontsize=\relsize{
-1 } ]
<?xml version="1.0"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">

<xs:complexType name="categoriestype">
 <xs:sequence>
  <xs:element name="D" type="xs:string" minOccurs="1" 
   maxOccurs="unbounded"/>
 </xs:sequence>
</xs:complexType>

<xs:complexType name="doctype">
  <xs:all>
   <xs:element name="TOPIC" type="categoriestype" minOccurs="1" 
    maxOccurs="1"/>
   <xs:element name="TITLE" type="xs:string" maxOccurs="1"/>
   <xs:element name="BODY" type="xs:string" minOccurs="1" 
    maxOccurs="1"/>
  </xs:all>
</xs:complexType>

<xs:element name="COLLECTION">
<xs:complexType>
 <xs:sequence>
  <xs:element name="DOCTRAIN" type="doctype"
    minOccurs="0" maxOccurs="unbounded"/>
  <xs:element name="DOCTEST" type="doctype" minOccurs="0"
    maxOccurs="unbounded"/>
 </xs:sequence>
</xs:complexType>
</xs:element>

</xs:schema>
\end{Verbatim}

Por lo que cada fichero que represente una colección de documentos será
genéricamente de esta forma:

\begin{Verbatim}[frame=single,framesep=2pt,fontsize=\relsize{-1}]
<collection>
 <doctrain>
 <topic> <d>c1</d> <d>c2</d> ... <d>cn</d> </topic>
 <title>un título</title>
 <body>un cuerpo</body>
 </doctrain>
 ...
 <doctrain>
 <topic> <d>c1</d> <d>c2</d> ... <d>cn</d> </topic>
 <title>otro título</title>
 <body>otro cuerpo</body>
 </doctrain>
</collection>
 \end{Verbatim}
 
\subsection{¿Qué información es importante?}

De cara a analizar el contenido es importante la información comprendida en las
etiquetas \textit{title} y \textit{body}. Por otro lado, las categorías de cada
documento también tienen importancia, ya que en un futuro podría ser interesante
analizar la información obtenida en función a la categoría, por ejemplo, para
hacer agrupamientos de palabras.

\subsection{Ejemplo de una colección}

A continuación, un pequeño ejemplo de uno fichero de colección llamado
\textit{computers.xml}.

\begin{Verbatim}[label=example.xml,frame=single,framesep=2pt,fontsize=\relsize{
-1}]
<collection>
 <doctrain>
 <topic> <d>debian</d> <d>linux</d> <d>OS</d> </topic>
 <title>Debian project</title>
 <body> Debian is a free operating system (OS) for your computer. An 
 operating system is the set of basic programs and utilities that 
 make your computer run. Debian uses the Linux kernel (the core of 
 an operating system), but most of the basic OS tools come from the 
 GNU project; hence the name GNU/Linux.
 </body>
 </doctrain>
 <doctrain>
 <topic> <d>computing</d> <d>search</d> <d>engine</d> </topic>
 <title>Google</title>
 <body> Google Inc. (NASDAQ: GOOG and LSE: GGEA) is an American 
 public corporation, specializing in Internet search and online 
 advertising. The company had 10,674 full-time employees as of 
 December 31, 2006, and is based in Mountain View, California. 
 </body>
 </doctrain>
</collection>
\end{Verbatim}

Se puede apreciar que se trata de una colección formada por dos documentos
titulados \textit{Debian project} y \textit{Google}. El primer documento se
encuentra en las categorías \textit{debian}, \textit{linux} y \textit{OS} así
como el segundo está en las categorías \textit{computing}, \textit{search}
y \textit{engine}.

\subsection{Adaptando ficheros mal formados}

Los ficheros de colección para los que inicialmente fue diseñado MIEX no tenían
un formato correcto, concretamente el XML no incluía nodo raíz ni cerraba
correctamente las etiquetas. Para paliar este problema, se han desarrollado un
par de herramientas que permiten fácilmente la adaptación al formato correcto
de los ficheros problemáticos. Se proporcionará más información en los
siguientes capítulos.
