\section{Implementación}

Bajo este epígrafe se recogen detalles de organización e implementación del
software, ignórelo si no pretende modificar o hacer uso directo del código
fuente de la aplicación.

\subsection{Paquetes}

Para una modularidad mayor, así como para intentar dar una visión aún más
clara de la construcción de este proyecto, el código fuente de MIEX está
distribuido en los siguientes paquetes.

\subsubsection{Config}

Este paquete contiene dos clases. La clase \textit{ConfigCMDLine} proporciona un
manejador de la línea de comandos para poder consultar de una manera fácil el
valor de las opciones que el usuario pasa mediante línea de comandos. Por otro
lado, la clase \textit{ConfigFile} sirve para instanciar manejadores de las
opciones del fichero de configuración principalmente para consultar el valor que
el usuario ha dado a una clave en particular.

\begin{figure}[h]
\label{fig:uml-config}
\begin{center}
\includegraphics[scale=0.6]{images/uml/config.png}
\end{center}
\caption{Diagrama UML del paquete Config}
\end{figure}

\subsubsection{Datastr}

Las clases distribuidas con este paquete representan estructuras de datos para
guardar información que se capture durante el tratamiento de las colecciones.
La gran mayoría son utilizadas a la hora de interpretar los ficheros XML de
entrada para poder representar fácilmente cada uno de los elementos de los
ficheros de colección.

\begin{figure}[H]
\label{fig:uml-datastr}
\begin{center}
\includegraphics[scale=0.6]{images/uml/datastr.png}
\end{center}
\caption{Diagrama UML del paquete Datastr}
\end{figure}

\subsubsection{Filter}

Aquí se pueden encontrar todos los filtros que han sido construidos para cribar
algunos elementos que carecen de utilidad (palabras vacías, números, signos de
puntuación...) así como para aplicar el algoritmo de normalización cuando sea
necesario. Existe una clase llamada \textit{GlobalFilter} que es bastante
útil para aplicar varios filtros simultáneamente sin preocuparse de instanciar
objetos de cada una de las clases filtro.

\begin{figure}[H]
\label{fig:uml-filter}
\begin{center}
\includegraphics[scale=0.6]{images/uml/filter.png}
\end{center}
\caption{Diagrama UML del paquete Filter}
\end{figure}

\subsubsection{Input}

En primer lugar este paquete contiene una clase (\textit{XMLValidator})
para validar el contenido de los ficheros de entrada utilizando XML Schema. Las
otras clases se combinan para construir un \textit{unmarshaller} de los
ficheros de colección. Como era de esperar, esta última clase se apoya en las
clases que representaban estructuras de datos comentadas unas líneas más arriba.

\begin{figure}[H]
\label{fig:uml-input}
\begin{center}
\includegraphics[scale=0.6]{images/uml/input.png}
\end{center}
\caption{Diagrama UML del paquete Input}
\end{figure}

\subsubsection{Run}

La única clase que se puede encontrar en este módulo constituye el punto de
entrada a la aplicación. En ella se puede observar como se van utilizando cada
una de las clases y se van aplicando los pasos de procesamiento tal y como se
explicaron en la primera sección de este capítulo.

\begin{figure}[H]
\label{fig:uml-run}
\begin{center}
\includegraphics[scale=0.6]{images/uml/run.png}
\end{center}
\caption[Diagrama UML del paquete Run]{Diagrama UML del paquete Run (sin
parámetros en las operaciones)}
\end{figure}

\subsubsection{Semantic}

Este paquete provee la clase que maneja el Stanford Parser simplificando
notablemente el análisis de oraciones. Esta clase contiene métodos para obtener
la lista de dependencias entre palabras de una oración así como la información
referente a cada palabra, como se explica en el capítulo \ref{cap:introduccion}.

\begin{figure}[H]
\label{fig:uml-semantic}
\begin{center}
\includegraphics[scale=0.6]{images/uml/semantic.png}
\end{center}
\caption{Diagrama UML del paquete Semantic}
\end{figure}

\subsubsection{Sql}

Las utilidades para manejar la base de datos se encierran en este paquete. En
la clase \textit{SQLHandler} se proveen métodos para añadir sencillamente
colecciones, documentos, relaciones entre palabras etcétera.

\begin{figure}[H]
\label{fig:uml-sql}
\begin{center}
\includegraphics[scale=0.5]{images/uml/sql.png}
\end{center}
\caption{Diagrama UML del paquete Sql}
\end{figure}

\subsubsection{Tools}

Finalmente aquí se recogen todas las clases que no tienen una utilidad crucial
a la hora de hacer funcionar el programa, sino que son pequeñas utilidades
(normalmente extraídas de otros proyectos) para realizar tareas muy concretas.
Hasta el momento sólo se distribuyen un par de clases para generar
\textit{hashes} MD5 (códigos de comprobación).

\begin{figure}[H]
\label{fig:uml-tools}
\begin{center}
\includegraphics[scale=0.6]{images/uml/tools.png}
\end{center}
\caption{Diagrama UML del paquete Tools}
\end{figure}

\subsection{API}

Como puede observar, lo que hasta ahora se ha comentado en esta sección no trata
en profundidad cada elemento del código fuente, es decir, no se describen
minuciosamente cada una de las clases, métodos, etcétera, más bien se hace una
descripción abstracta de cada módulo del programa. La razón de esto, es que junto
a MIEX se distribuye documentación del código generada con
Javadoc\footnote{http://java.sun.com/j2se/javadoc/} que puede ser utilizada como
referencia para posibles usos posteriores del proyecto.

Para generar la documentación, no tiene nada más que ejecutar \texttt{make doc}
(si usa GNU Make) o \texttt{ant doc} (si usa Ant) en el directorio raíz donde
tenga las fuentes del programa.

Una vez construida, la documentación se encuentra en el directorio
\url{build/doc/api} y puede ser consultada con cualquier intérprete de HTML,
por ejemplo, un navegador web (Mozilla Firefox, Konqueror, Safari, Links...).

Si ha instalado MIEX utilizando las utilidades correspondientes también puede
consultar la documentación en el directorio \url{/usr/share/doc/miex/api}

